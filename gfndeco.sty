\newcommand{\refsection}[1]{\ref{#1}}
%
\newcommand{\thicksection}[1]{
\clearpage
\noindent
\samepage
\begin{tikzpicture}
\draw[line width=2pt] (0,0) -- (\textwidth,0);
\draw[line width=1pt] (0,-5pt) -- (\textwidth,-5pt);
\end{tikzpicture}
\refstepcounter{section}
\parbox[c][3zw][c]{\textwidth}{\enskip\textsf{\LARGE \arabic{section} #1}}
\addcontentsline{toc}{section}{#1}
\begin{tikzpicture}
\draw[line width=1pt] (0,0) -- (\textwidth,0);
\draw[line width=2pt] (0,-5pt) -- (\textwidth,-5pt);
\end{tikzpicture}
\par
\nopagebreak
\vblank
}
%
\newcommand{\thicksectionnonum}[1]{
\clearpage
\noindent
\begin{tikzpicture}
\draw[line width=2pt] (0,0) -- (\textwidth,0);
\draw[line width=1pt] (0,-5pt) -- (\textwidth,-5pt);
\end{tikzpicture}
\parbox[c][3zw][c]{\textwidth}{\enskip\textsf{\LARGE \enskip#1}}
\begin{tikzpicture}
\draw[line width=1pt] (0,0) -- (\textwidth,0);
\draw[line width=2pt] (0,-5pt) -- (\textwidth,-5pt);
\end{tikzpicture}
\par
\nopagebreak
\vblank
}
%
\newcommand{\thicksubsection}[1]{
\noindent
\samepage
\refstepcounter{subsection}
\parbox[c][1.25zw][c]{\textwidth}{\textsf{\large \arabic{section}.\arabic{subsection} #1}}
\addcontentsline{toc}{subsection}{#1}
\parbox[c][1zw][t]{\textwidth}{
\begin{tikzpicture}
\draw[line width=1pt] (0,0)--(\textwidth,0);
\end{tikzpicture}
}
\par
\nopagebreak
\vblank
}
%
\def\emptyparam@gfncmd{}
%---基本----------------------------------------------------
\newcommand{\stdcmd}[4]{
\noindent
\refstepcounter{subsubsection}%
\if\relax#1\else\label{#1}\fi%
\textsf{#4\arabic{section}.\arabic{subsection}.\arabic{subsubsection}\quad#2\fi}
\par
\nopagebreak
\indent
#3
\par
\allowbreak
\vblank
}
\newcommand{\stdplain}[3]{
\noindent
\textsf{#1\enskip#2}
\par
\nopagebreak
\indent
#3
\par
\vblank
}
\newcommand{\stdplainsmall}[1]{
\indent
{\footnotesize #1}
\par\vblank
}
\newcommand{\stddef}[3][\relax]{\stdcmd{#1}{#2}{#3}{定義}}
\newcommand{\stdthm}[3][\relax]{\stdcmd{#1}{#2}{#3}{定理}}
\newcommand{\stdsup}[3][\relax]{\stdcmd{#1}{#2}{#3}{補題}}
\newcommand{\stdcor}[3][\relax]{\stdcmd{#1}{#2}{#3}{系}}
\newcommand{\stdatt}[3][\relax]{\stdcmd{#1}{#2}{#3}{注意}}
\newcommand{\stdprb}[3][\relax]{\stdcmd{#1}{#2}{#3}{問題}}
\newcommand{\stdprp}[3][\relax]{\stdcmd{#1}{#2}{#3}{命題}}
\newcommand{\stdproof}[2][\relax]{\stdplain{証明}{#1}{#2}}
\newcommand{\stdcompl}[2][\relax]{\stdplain{補足}{#1}{#2}}
%
%---下線つき----------------------------------------------------
\newcommand{\ulcmd}[4]{
\noindent
\refstepcounter{subsubsection}%
\if\relax#1\else\label{#1}\fi%
\underline{\textsf{#4\arabic{section}.\arabic{subsection}.\arabic{subsubsection}%
  \def\tempparam@gfncmd{#2}%
  \ifx\tempparam@gfncmd\emptyparam@gfncmd%
    \relax%
  \else%
    \enskip#2%
  \fi%
}}
\par\nopagebreak
\indent
#3
\par
\allowbreak
\vblank
}
\newcommand{\ulplain}[3]{
\noindent
\underline{\textsf{#1%
  \def\tempparam@gfncmd{#2}%
  \ifx\tempparam@gfncmd\emptyparam@gfncmd%
    \relax%
  \else%
    \enskip#2%
  \fi%
}}
\par
\nopagebreak
\indent
#3
\par
\allowbreak
\vblank
}
\newcommand{\uldef}[3][\relax]{\ulcmd{#1}{#2}{#3}{定義}}
\newcommand{\ulthm}[3][\relax]{\ulcmd{#1}{#2}{#3}{定理}}
\newcommand{\ulsup}[3][\relax]{\ulcmd{#1}{#2}{#3}{補題}}
\newcommand{\ulcor}[3][\relax]{\ulcmd{#1}{#2}{#3}{系}}
\newcommand{\ulatt}[3][\relax]{\ulcmd{#1}{#2}{#3}{注意}}
\newcommand{\ulprb}[3][\relax]{\ulcmd{#1}{#2}{#3}{問題}}
\newcommand{\ulprp}[3][\relax]{\ulcmd{#1}{#2}{#3}{命題}}
%
%---タイトル込み段落--------------------------------------------
\newcommand{\topcmd}[4]{
\noindent
\refstepcounter{subsubsection}%
\if\relax#1\else\label{#1}\fi%
\textsf{#4\arabic{section}.\arabic{subsection}.\arabic{subsubsection}%
  \def\tempparam@gfncmd{#2}%
  \ifx\tempparam@gfncmd\emptyparam@gfncmd%
    \relax%
  \else%
    \enskip#2%
  \fi%
}\quad#3
\par
\allowbreak
\vblank
}
\newcommand{\topplain}[3]{
\noindent
\textsf{#1%
  \def\tempparam@gfncmd{#2}%
  \ifx\tempparam@gfncmd\emptyparam@gfncmd%
    \relax%
  \else%
    \enskip#2%
  \fi%
}\quad#3
\par
\allowbreak
\vblank
}
\newcommand{\topdef}[3][\relax]{\topcmd{#1}{#2}{#3}{定義}}
\newcommand{\topthm}[3][\relax]{\topcmd{#1}{#2}{#3}{定理}}
\newcommand{\topsup}[3][\relax]{\topcmd{#1}{#2}{#3}{補題}}
\newcommand{\topcor}[3][\relax]{\topcmd{#1}{#2}{#3}{系}}
\newcommand{\topatt}[3][\relax]{\topcmd{#1}{#2}{#3}{注意}}
\newcommand{\topprb}[3][\relax]{\topcmd{#1}{#2}{#3}{問題}}
\newcommand{\topprp}[3][\relax]{\topcmd{#1}{#2}{#3}{命題}}
\newcommand{\topproof}[2][]{\topplain{証明}{#1}{#2}}
\newcommand{\topcompl}[2][]{\topplain{補足}{#1}{#2}}
%---箱入り------------------------------------------------------
\newcommand{\boxcmd}[4]{
\noindent
\begin{itembox}[l]{\textsf{#4%
\refstepcounter{subsubsection}%
\if\relax#1\else\label{#1}\fi%
\arabic{section}.\arabic{subsection}.\arabic{subsubsection}%
  \def\tempparam@gfncmd{#2}%
  \ifx\tempparam@gfncmd\emptyparam@gfncmd%
    \relax%
  \else%
    \enskip#2%
  \fi%
}}
#3
\end{itembox}
\par
\vblank
}
\newcommand{\boxplain}[3]{
\noindent
\begin{itembox}[l]{\textsf{#1\enskip#2}}
#3
\end{itembox}
\par\vblank
}
\newcommand{\boxdef}[3][\relax]{\boxcmd{#1}{#2}{#3}{定義}}
\newcommand{\boxthm}[3][\relax]{\boxcmd{#1}{#2}{#3}{定理}}
\newcommand{\boxsup}[3][\relax]{\boxcmd{#1}{#2}{#3}{補題}}
\newcommand{\boxcor}[3][\relax]{\boxcmd{#1}{#2}{#3}{系}}
\newcommand{\boxatt}[3][\relax]{\boxcmd{#1}{#2}{#3}{注意}}
\newcommand{\boxprb}[3][\relax]{\boxcmd{#1}{#2}{#3}{問題}}
\newcommand{\boxprp}[3][\relax]{\boxcmd{#1}{#2}{#3}{命題}}
